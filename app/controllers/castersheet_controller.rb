class CastersheetController < ApplicationController
  # protect_from_forgery

  @@UNIT_NAMES = {
    'Z' => [
    'drone',
    'zergling',
    'queen',
    'baneling',
    'roach',
    'overlord',
    'overseer',
    'hydralisk',
    'spinecrawler',
    'sporecrawler',
    'mutalisk',
    'corruptor',
    'broodlord',
    'broodling',
    'infestor',
    'infestedterran',
    'ultralisk',
    'nydusworm',
    ],
    'T' => [
    'scv',
    'marine',
    'marauder',
    'reaper',
    'ghost',
    'hellion',
    'siegetank',
    'thor',
    'viking',
    'medivac',
    'banshee',
    'raven',
    'battlecruiser',
    'planetaryfortress',
    'missileturret',
    ],
    'P' => [
    'probe',
    'zealot',
    'sentry',
    'stalker',
    'hightemplar',
    'darktemplar',
    'immortal',
    'colossus',
    'archon',
    'observer',
    'warpprism',
    'phoenix',
    'voidray',
    'carrier',
    'mothership',
    'photoncannon',
    ],
    }

  # in the army section of the sheet, dont show these spawns and buildings.
  # and dont show overlords because they are not selected reliably enough for
  # us to have good stats for them.
  @@DONT_SHOW = [
    'photoncannon',
    'planetaryfortress',
    'missileturret',
    'overlord',
    'spinecrawler',
    'sporecrawler',
    'broodling',
    'infestedterran',
    'nydusworm',
  ]

  # Plea for salvation: this entire thing is a hack. It had to be noted
  # somewhere.
  # In alphabetical order by the non-team part of their name.
  def castersheet
    @mlgids = {
      "6978463"=>"Tarrantius",
      "6944545"=>"Snute",
      "6949753"=>"Nerchio",
      "7160965"=>"Noticimus",
      "6946798"=>"Cytoplasm",
      "6946246"=>"Devil",
      "6943828"=>"Elvis",
      "6948747"=>"Sortof",
      "6186224"=>"Freizy",
      "6431537"=>"BabyKnight",
      "7165157"=>"aAaBsK",
      "6943642"=>"Daisy",
      "6323160"=>"Rikytan",
      "6433819"=>"Stjarnan",
      "6179611"=>"Welmu",
      "6946422"=>"Mana",
      "6980302"=>"Forsen",
      "6193280"=>"Real",
      "6438774"=>"skyda",
      "6736412"=>"Monchi",
      "6242614"=>"DBS",
      "6854843"=>"dBlinG",
      "5461383"=>"Grubby",
      "6235394"=>"Roof",
      "6950274"=>"Seiplo",
      "6975627"=>"Tefel",
      "6736351"=>"Goody",
      "4956556"=>"LiquidHayprO",
      "6946772"=>"Bly",
      "6436474"=>"CoTPoptart",
      "2745192"=>"Gasaraki01",
      "7154858"=>"Icycle",
      "7162349"=>"Wizzmatick",
      "6943165"=>"xGMaFia",
      "6948313"=>"GHSTxJet",
      "6943104"=>"Nvdeth",
      "2402464"=>"P3_PuLsE",
      "7170518"=>"AKM__",
      "7176172"=>"edrummon",
      "5682403"=>"travisano",
      "7178513"=>"bails44",
      "6943103"=>"NvmOOnGLaDe",
      "6681530"=>"Jeppeh",
      "6075845"=>"DynamicMass",
      "147014"=>"xFiNaLEx",
      "7175398"=>"isurusxANXO",
      "6648880"=>"filthyrake",
      "4948854"=>"RaNgeD7",
      "7158556"=>"4NOTJakeBake",
      "6244242"=>"badcop02",
      "6325722"=>"OrchidOrchid",
      "7066725"=>"iPAjax",
      "6025779"=>"Gojira621",
      "5706441"=>"coLRyze",
      "6948173"=>"LGNavilo",
      "6045226"=>"SirRobin701",
      "7177804"=>"Smee19",
      "5688124"=>"ONEwbc1",
      "1228730"=>"Future-SC",
      "5681519"=>"balista420",
      "4825957"=>"Shew",
      "6138693"=>"EoIsMyDog",
      "4828364"=>"EGiNcontroL",
      "6932079"=>"OoIcecream",
      "6433817"=>"cmalafis",
      "5907087"=>"creamyturtle",
      "6184362"=>"TheJForte",
      "5400834"=>"dicedicerevolution",
      "5804172"=>"SecretCobraz",
      "7035169"=>"ALTSonic",
      "6837655"=>"domiecin",
      "7072386"=>"GHSTstarcraft",
      "5697943"=>"Saberd",
      "6943102"=>"NvRossi",
      "6974574"=>"TtPiG",
      "6915155"=>"LgNkarmy",
      "7167338"=>"AnDa1120",
      "6970057"=>"EmpireBeastyqt",
      "6715329"=>"dignitasKiLLeR",
      "7165645"=>"LgNMaker",
      "7164745"=>"KaneSC2",
      "5728554"=>"EGDeMusliM",
      "7175291"=>"isurusDark",
      "6170064"=>"DarkenedLite",
      "3942843"=>"EzaLB",
      "5612178"=>"Kanbei42",
      "6322850"=>"hendralisk",
      "6185852"=>"JimRiSiNg",
      "6164103"=>"webz826",
      "7089468"=>"Mimir",
      "71366"=>"Link1027",
      "7158593"=>"ivnadaviking",
      "5460721"=>"Bonkarooni",
      "5689497"=>"LyraTheGreat",
      "7168859"=>"revel2k9",
      "5754117"=>"noobeater5",
      "5721888"=>"vileState",
      "6335165"=>"GoSuDDE",
      "6850177"=>"binskiLighT",
      "6948874"=>"SaviorSC2",
      "5575815"=>"vvvglon",
      "7038460"=>"Eifersuchtig",
      "6849480"=>"CaliberLighT",
      "5738292"=>"Veritus",
      "5403825"=>"Perfectsc",
      "5685846"=>"Everize",
      "1426317"=>"Siphonn",
      "6178730"=>"sanddbox",
      "5687875"=>"x6Mystik",
      "6267543"=>"Vibe",
      "6057578"=>"stoicfuzzy",
      "6867118"=>"Golden",
      "4771755"=>"EG-LzGaMeR",
      "4756651"=>"HuK",
      "6950657"=>"Suppy",
      "6367508"=>"cvgSasquatch",
      "5462035"=>"Tri_Master",
      "6867565"=>"Heart",
      "4772548"=>"qxc",
      "5464429"=>"Hawk248",
      "6856755"=>"dSeleCT",
      "6164611"=>"Sheth",
      "6825515"=>"Fitzyhere",
      "6246609"=>"GoSuHwangSin",
      "6366865"=>"Violet",
      "6259407"=>"TubbyTheFat",
      "5466682"=>"VTgiX",
      "6113417"=>"vileIllusion",
      "7162084"=>"Salvation",
      "6932046"=>"Value",
      "6764167"=>"NesTea",
      "6932439"=>"Annyung",
      "6932321"=>"Creator",
      "6932326"=>"Salmosa",
      "7165892"=>"Brown",
      "7158481"=>"Min",
      "2611003"=>"ForGG",
      "6728568"=>"Virus",
      "7162827"=>"First",
      "7162101"=>"Brave",
      "7165165"=>"Extreme",
      "7172334"=>"Zero",
      "6729037"=>"Curious",
      "6764168"=>"Yoda",
      "7161868"=>"Squirtle",
      "7158851"=>"Miso",
      "6764106"=>"Supernova",
      "6932140"=>"Freaky",
      "6932027"=>"Punisher",
      "7172162"=>"JKS",
      "6932103"=>"Sting",
      "7162820"=>"Horror",
      "6764195"=>"Revival",
      "6727979"=>"TheBest",
      "6932352"=>"Hack",
      "6728926"=>"Sound",
      "6932192"=>"Sniper",
      "6932389"=>"BBoongBBoong",
      "6932910"=>"Apocalypse",
      "6728048"=>"Gumiho",
      "6932056"=>"Lure",
      "6932290"=>"Vampire",
      "6932030"=>"Sage",
      "6764132"=>"Top",
      "6932052"=>"Seal",
      "6932031"=>"Shine",
      "7161877"=>"Ace",
      "6932131"=>"Yonghwa",
      "6764224"=>"Yugioh",
      "6932009"=>"Byun",
      "6932368"=>"Sculp",
      "6932092"=>"Life",
      "6764097"=>"TheStc",
      "7158946"=>"Arthur",
      "6932172"=>"Crank",
      "6724871"=>"Jjakji",
      "7172294"=>"Weekend",
      "6728838"=>"Seed",
      "6114661"=>"Liquid_HerO",
      "6932436"=>"Taeja",
      "7167765"=>"J",
      "6721316"=>"San",
      "6710549"=>"Puzzle",
      "6932032"=>"Ragnarok",
      "6146010"=>"SlayerSCoca",
      "7172352"=>"Avenge",
      "6728879"=>"Happy",
      "7159020"=>"KDY",
      "6932023"=>"Tear",
      "6764176"=>"Hyun",
      "7158951"=>"Miya",
      "6932042"=>"Center",
      "6728632"=>"Parting",
      "6932100"=>"Tassadar",
      "7162836"=>"Mvp",
      "6728846"=>"True",
      "7156103"=>"Vines",
      "6932341"=>"Classic",
      "6710271"=>"sC",
      "7162828"=>"Ready",
      "6932353"=>"KingKong",
      "7161925"=>"Dark",
      "6710288"=>"Noblesse",
      "5744099"=>"Losira",
      "5744106"=>"MMA",
      "6930139"=>"Byul",
      "6867594"=>"coLKiller1",
      "7096942"=>"SlayerS_Clide",
      "6728055"=>"Lucky",
      "6798671"=>"iscrazymoving",
      "5952596"=>"Ganzi",
      "6932063"=>"Dream",
      "6710301"=>"Ryung",
      "6366919"=>"Nestea",
      "5701974"=>"ThorZaIN",
      "5898304"=>"Rain",
      "6757970"=>"Alive",
      "6100825"=>"Mook",
      "6453361"=>"Sic08",
      "4772104"=>"Time-175",
      "4786254"=>"Fayth1",
      "5998921"=>"coLdrewbie",
      "4521651"=>"Talbadar",
      "3207097"=>"flexxzorz",
      "4850042"=>"Select",
      "4875474"=>"sctipton",
      "4772521"=>"Agh_Antec",
      "4905678"=>"BuddhistSC",
      "2374716"=>"ShaggySan",
      "4364722"=>"FnaticMSI.Gretorp",
      "572"=>"cava",
      "4782337"=>"SLush450",
      "921007"=>"BackPack",
      "5685208"=>"VTavilo",
      "112072"=>"Nayr",
      "5688747"=>"FnaticTT1",
      "4899330"=>"KingSpades",
      "319932"=>"Bluewolf",
      "4766234"=>"ajtls",
      "4799550"=>"UNC.Qiufeng",
      "6314536"=>"White_Ra",
      "4783201"=>"_ThisIsJimmy_",
      "4772118"=>"Nadagast2",
      "1933038"=>"powerfullone",
      "4778283"=>"KiWiKaKi",
      "4964055"=>"Shiver_Fallen",
      "4656346"=>"Taurent128",
      "4894476"=>"OmniscientSC2",
      "5898325"=>"FnaticKawaiiRice",
      "4854270"=>"systemkaos",
      "5461050"=>"ROOT_CatZ",
      "2450030"=>"Nokarot",
      "4935284"=>"LuckyFool",
      "4449142"=>"jeremiahthebullfrog",
      "4772699"=>"Nony",
      "4881517"=>"dapz24",
      "5956343"=>"QxGiNkA",
      "4906115"=>"mizore",
      "4795018"=>"MasqLB",
      "4525904"=>"wonkman",
      "4908477"=>"LiquidRet",
      "4772579"=>"EG-Machine",
      "4862837"=>"ryanrushia",
      "4905758"=>"AlexCMoi",
      "4917108"=>"CheeseGrater_525",
      "4919430"=>"orbtl",
      "4906086"=>"drewwarren",
      "5721276"=>"eMgfograw",
      "4772416"=>"ItsYoungLee",
      "4906123"=>"Sadistx",
      "1114442"=>"hmp",
      "1179717"=>"UNC-oRe.saMa",
      "4918446"=>"Newsh",
      "4773569"=>"IdrA1",
      "4765865"=>"imakeroaches",
      "4901660"=>"nesh.650",
      "4905904"=>"GxZ",
      "4779120"=>"Pain-User",
      "4450296"=>"TorcHgaming",
      "32917"=>"Carl_Caliente",
      "4860375"=>"EG.Colbi",
      "4948024"=>"mOnion",
      "4971185"=>"rSAizen",
      "4159164"=>"Maus6",
      "5543402"=>"Sixjax_dde",
      "4994947"=>"wootasaurus",
      "4948182"=>"Verst",
      "4805779"=>"Socke",
      "4948873"=>"deusmortis",
      "4972941"=>"rockd24",
      "4965026"=>"Pfhor",
      "4988467"=>"ZpuX",
      "4994342"=>"NrG.AhhBoxxah",
      "4961300"=>"Whiplash-VT",
      "4955031"=>"Rigid54",
      "4947155"=>"DreamHalls",
      "4998707"=>"allaboutyou",
      "5008794"=>"Involver",
      "4981376"=>"HauntedMac",
      "5002060"=>"Zukarakox",
      "5001203"=>"SoG-Rain",
      "4950558"=>"FinalForm7726",
      "4966022"=>"blind429",
      "4960652"=>"TheJacobian",
      "2531859"=>"ePiJaeger",
      "2672492"=>"XvMaelstromvX",
      "3122512"=>"hordeau",
      "4960195"=>"rm_you",
      "4943664"=>"tsukani",
      "4966017"=>"Inflow.SunDevil",
      "4681102"=>"themonkeymon",
      "4952641"=>"AdamRosen75",
      "780635"=>"RonRAMBOKim",
      "4977403"=>"EG-StrifeCro",
      "4956369"=>"Drakke",
      "4967760"=>"bugerking3",
      "4965590"=>"brutality57",
      "4949013"=>"venerati",
      "1923258"=>"V4L0R",
      "4956511"=>"Tentacles",
      "4989519"=>"HDStarcraft",
      "4948824"=>"InTehFace",
      "4973723"=>"LiquidNazgul",
      "4969444"=>"laneir85",
      "4970695"=>"Exo_dus",
      "4972830"=>"Precipice",
      "5010751"=>"EGNyoken",
      "4935697"=>"Tyro4",
      "4948905"=>"sincerelysleepy",
      "4948263"=>"nharvey92",
      "4997922"=>"russalo",
      "4959229"=>"LiquidJinro",
      "127268"=>"Dimension_X",
      "4961317"=>"SC2Attero",
      "4967749"=>"limniscate",
      "3300948"=>"Bubbaroot",
      "4969823"=>"Ralain",
      "4988482"=>"FnaticFenix",
      "4958436"=>"Mercadia",
      "4948856"=>"Sean552",
      "4947886"=>"SleepyOwl",
      "4950908"=>"xiourtil",
      "2485822"=>"sycknesS",
      "4877907"=>"Mirhi",
      "4948941"=>"mamerhet",
      "4948889"=>"sung123",
      "5010568"=>"Exialol",
      "4950062"=>"Anktious",
      "4960385"=>"Gx_Iron",
      "4974606"=>"FnaticSen",
      "5882248"=>"QxGZelniq",
      "4949956"=>"ondori",
      "4967423"=>"crebstar",
      "4993262"=>"nrg.kvz",
      "4995490"=>"xGrill",
      "5002573"=>"SLoG",
      "4523697"=>"Debolt",
      "127791"=>"jedimonky",
      "4965738"=>"LiquidTLO",
      "4977014"=>"iS_Axslav",
      "4797785"=>"NeOReSpOnSe",
      "4923010"=>"bertholomule",
      "4950337"=>"TylerRosen75",
      "4966487"=>"Aberu",
      "6284666"=>"Stephano",
      "6307976"=>"Polt",
      "5773511"=>"MC",
      "6152884"=>"DongRaeGu",
      "5447190"=>"Naniwa",
      "5682381"=>"uSiN",
      "5744290"=>"StartaleJuly",
      "5119565"=>"d_wAy",
      "5460867"=>"FXOmOoNan",
      "4783306"=>"Sjow",
      "1552044"=>"TrueRedemption",
      "5709048"=>"sacredarmor",
      "5543433"=>"Sixjax_CocoA",
      "5703346"=>"Stoutbreed",
      "5458337"=>"FaYDe787",
      "5718375"=>"iTookaclass",
      "5460490"=>"WarlockX",
      "5460826"=>"Pokebunny",
      "5685184"=>"Furnace",
      "5460861"=>"FXOpTiKzErO",
      "5568641"=>"phaelo",
      "5707294"=>"SixJaxMajor",
      "5460597"=>"Ryan_Scriptix",
      "4462941"=>"TeknoBoy",
      "5685562"=>"Butteryllama",
      "5460864"=>"coLstalife",
      "5686815"=>"Arthann",
      "5568275"=>"xiGerbil",
      "5734243"=>"fortunecookie577",
      "5687148"=>"LimeNade",
      "5689245"=>"umay",
      "5539129"=>"Sixjax_Mihai",
      "5762438"=>"vVvMilyCyrus",
      "5683342"=>"FusionMrWet",
      "5588122"=>"StimiLant",
      "5955048"=>"QxGAgh",
      "5678439"=>"Zlin",
      "5575803"=>"Hobo4Craft",
      "5400820"=>"Notaa",
      "5460651"=>"EVORekatan",
      "5460823"=>"coLrsvp",
      "5688562"=>"FnaticIefNaij",
      "5685831"=>"-AdroiT-",
      "5461317"=>"vVvMurDeR",
      "5687406"=>"Vdek",
      "5685010"=>"EksentrikCA",
      "5686121"=>"oddz01",
      "5684815"=>"sidr",
      "5684608"=>"MGJustus",
      "4956435"=>"Ero_Sennin",
      "5703331"=>"Filtersc",
      "5698073"=>"Sixjax_Skew",
      "5744314"=>"havee",
      "5684994"=>"TCFnick",
      "5691016"=>"cybrslsh",
      "5705528"=>"varione",
      "5406445"=>"Achaia",
      "5685188"=>"vudupierce",
      "5685257"=>"ONElinko",
      "54333"=>"chrusher97",
      "5717366"=>"ostojiy",
      "5675769"=>"FxoAnthony",
      "1463005"=>"ZealotAlchemist",
      "5730781"=>"FXOboss",
      "5702269"=>"Gatored",
      "5737804"=>"Arcanne",
      "5689412"=>"stoicRegret",
      "5725920"=>"AndrewShurter",
      "5687276"=>"iamjacksguns",
      "5623405"=>"NGry",
      "5606311"=>"PwnergizerBunny",
      "5722542"=>"ziphonal",
      "5699641"=>"dasnor",
      "5427660"=>"Arch00",
      "4536932"=>"Axeraider70",
      "5685025"=>"macks_m",
      "5449181"=>"Xarow",
      "5685003"=>"DDCoindrop",
      "4977697"=>"RGoode",
      "5557084"=>"Gret0rp",
      "5684998"=>"B12ad",
      "5609055"=>"BROvega",
      "5743814"=>"stoicFakeY",
      "1317451"=>"KiF1rE",
      "5508685"=>"Magnious",
      "5685844"=>"gfever",
      "1280560"=>"eddytwohands",
      "5708055"=>"mangOMaster",
      "5598600"=>"MassRattler",
      "5685105"=>"lkjewq",
      "4070186"=>"phlash05",
      "5681537"=>"iPBioOrMech",
      "5374868"=>"Imyt",
      "5741022"=>"edge702",
      "5716500"=>"kevinflo",
      "5685921"=>"_YueY_",
      "5778866"=>"Dr0n3_00",
      "5708717"=>"yoden",
      "12305"=>"pulsar",
      "5683594"=>"Catechin",
      "5566223"=>"Alexbaranski",
      "5461129"=>"Slurgi",
      "5640860"=>"Arcanix77",
      "5420492"=>"Pro_pane",
      "5742431"=>"Telecom",
      "5685939"=>"ePGalois",
      "5684009"=>"KingOfFlan",
      "5685147"=>"nozick",
      "5684319"=>"ArcticFox81",
      "5458169"=>"vVvTitan",
      "5718343"=>"Korhammer",
      "5685007"=>"Namhcir",
      "5704784"=>"brotosterone",
      "5617648"=>"vVvTreva",
      "5718025"=>"goodnewsjimdotcom",
      "5468558"=>"kevizoid",
      "5573561"=>"KatuStarcraft",
      "5689370"=>"stoicNuvo",
      "4830631"=>"Nillawayfa",
      "5688898"=>"esports",
      "5689305"=>"gunslinger15",
      "5765532"=>"wemadefox_Moon",
      "5615743"=>"rwarriar",
      "5778411"=>"ryanfarace",
      "4907254"=>"ZombieModok",
      "5681745"=>"SimplyLemon",
      "5725883"=>"tGFrag",
      "5690107"=>"FXOtgun",
      "5685560"=>"xiNizzy",
      "5684999"=>"theatreides",
      "5706169"=>"KillMcSlaughter",
      "5685247"=>"goswser",
      "5610702"=>"Moriwo",
      "5570375"=>"Secret05",
      "5686681"=>"ONEdaisuki",
      "5725048"=>"WorpeX",
      "5685014"=>"JRoyalFlushL",
      "2542710"=>"a_pawner",
      "5721443"=>"Derek3731",
      "5687419"=>"StorrZerg",
      "5685075"=>"Crazystupid",
      "5408102"=>"MindSC",
      "201940"=>"Kyo7763",
      "5166378"=>"Apahota",
      "5720640"=>"TheBigBanner",
      "5609909"=>"Shinbuki",
      "5690882"=>"Budmandude",
      "5396104"=>"Liger-Zero",
      "5685127"=>"Laboof",
      "5566013"=>"rbkl",
      "5571199"=>"Prel",
      "5721999"=>"MGPetrify",
      "2983700"=>"Bloody1013",
      "4847102"=>"rdrobinson3",
      "4858008"=>"Bluetea",
      "5685848"=>"WetGoat",
      "5697801"=>"Saaruto",
      "1295781"=>"KamikazeSteve00",
      "5724985"=>"Lolo927",
      "4965212"=>"Stiver_",
      "5660841"=>"chemistry35",
      "5687256"=>"iMaGiKL",
      "5685405"=>"GaLaBo",
      "5663855"=>"DIGstarcraft",
      "5691577"=>"4lorn",
      "5687678"=>"Oldboi",
      "5710478"=>"ZedKitty",
      "5778064"=>"Yoam",
      "5690477"=>"Falcodevil",
      "5608455"=>"Antaran",
      "5686840"=>"HnR-Pride",
      "5702808"=>"MikeD_209",
      "4782173"=>"mouzMorroW",
      "5473868"=>"Noxrill",
      "5622388"=>"KeSC2",
      "5723999"=>"IceE_4448",
      "5460485"=>"stoicAydin",
      "5086456"=>"Ghyslyn",
      "5658934"=>"Daikina",
      "5699520"=>"eMgRockEr",
      "5460241"=>"coLCrunCher",
      "57909"=>"SyKo_SpArTaN",
      "5686497"=>"BittyBurgers",
      "958505"=>"kmc_constantine",
      "5372553"=>"MoreFaSho",
      "5712402"=>"Keldory",
      "5715347"=>"coLFireZerg",
      "5472380"=>"mrbitter",
      "5688861"=>"1NurseJoy",
      "5670472"=>"Poetry577",
      "5461511"=>"BaronFel",
      "5460802"=>"Sonavlaa",
      "5703773"=>"eMgRoB",
      "5684991"=>"GravityXIII",
      "4513708"=>"Inkarnate19",
      "5454478"=>"Bosnic",
      "5701655"=>"Innatez",
      "5723448"=>"Zunum",
      "5685584"=>"xSixShadow",
      "122133"=>"Newbius_Maximus",
      "5013579"=>"ZoidbergMD",
      "5751692"=>"lizzuma",
      "5685085"=>"CajunMan",
      "5485051"=>"Steven_Bonnell_II",
      "5954933"=>"QxGDarkCell",
      "5687820"=>"Idgaf174",
      "5683478"=>"shinoobi367",
      "5718512"=>"rna963",
      "5685035"=>"wbopp",
      "5682086"=>"kholmes",
      "5558799"=>"stoicZukapin",
      "5684346"=>"ProdigyKD_iG",
      "5609080"=>"ForWrath",
      "5703483"=>"Bmk44",
      "5705906"=>"stevepr56",
      "5468245"=>"AboveThee",
      "5721510"=>"NobodYouKnow",
      "6366929"=>"Mvp",
      "5947409"=>"SlayersSBoxer",
      "5897589"=>"4KWarden",
      "5883141"=>"VPFaith",
      "5894245"=>"Clefable",
      "6018780"=>"tqsky",
      "2147286"=>"Casper1983",
      "5765741"=>"iplayBANJO",
      "5885772"=>"VTA1122",
      "5858914"=>"philln12",
      "5908545"=>"Nonde",
      "5894348"=>"agobot8000",
      "5897612"=>"Benny_Profane",
      "6250420"=>"kiwiCaliber",
      "5807573"=>"toiletsplash",
      "5894076"=>"flosc2",
      "5213649"=>"gensulitor",
      "5449531"=>"NKspartan",
      "5896050"=>"Sparta314",
      "5894277"=>"atgreen",
      "5913820"=>"FabledIntegral",
      "5894300"=>"vVvHasuu",
      "5920252"=>"QxGRockEr",
      "5790088"=>"Entr0pic",
      "5894214"=>"Riddlezmethis",
      "5894307"=>"LewLew2",
      "2479912"=>"Adum997",
      "5891174"=>"jWoozy89",
      "5923682"=>"TDClonze",
      "5737298"=>"PlasticQT",
      "5917526"=>"LaGTTAzndude",
      "5792382"=>"vervejl",
      "5885780"=>"shoutout",
      "5859202"=>"puresonance",
      "16735"=>"bullet21___mlg_",
      "5461737"=>"vFury",
      "5894221"=>"maniacalpenny",
      "3022094"=>"Exil3d",
      "5920777"=>"RatZpopsycle",
      "5738435"=>"retiman",
      "5921002"=>"SterlingSC2",
      "5906839"=>"Geovu",
      "5898502"=>"Merz",
      "5898457"=>"Demius9",
      "4755198"=>"Joblesso",
      "5799965"=>"KarneEspada",
      "5884742"=>"Chemist391",
      "205035"=>"Default-650",
      "5798319"=>"yannyu",
      "4438595"=>"JiYan",
      "5890804"=>"Mirneona",
      "5894655"=>"megumixbear",
      "5818367"=>"Thoras",
      "5568821"=>"sigmaoctanusIV",
      "5885820"=>"Descretoria",
      "4959624"=>"DeMusliM",
      "5922634"=>"tDsYONKOU",
      "5792083"=>"blotrees",
      "5885805"=>"LovE-z33k",
      "3724392"=>"Smatin",
      "5923455"=>"rsg213",
      "5833181"=>"skyoon",
      "2794142"=>"i3onez",
      "2507867"=>"rampd",
      "5920235"=>"Oz",
      "5683653"=>"SCMothership",
      "268538"=>"RuMCaKe",
      "3725218"=>"o-ism-o",
      "5782287"=>"Skipper240",
      "5469656"=>"CGMooffinMan",
      "5898829"=>"scdpride",
      "5885417"=>"gumbos",
      "1077759"=>"RemarK",
      "5894438"=>"byeong",
      "5440137"=>"Starf1337",
      "5924566"=>"ChoyafOu",
      "5883666"=>"VPSuppy",
      "5882481"=>"SonKiE",
      "5885889"=>"Chansen005",
      "5461091"=>"vileHasHe",
      "5910714"=>"Speece",
      "5885678"=>"GoSuBubbles",
      "5779913"=>"m3wtw0618",
      "5894311"=>"Ekkelol",
      "3974093"=>"Stripedsweater2",
      "5895166"=>"aquanda",
      "5924078"=>"NoctisSC",
      "5894181"=>"iMpTbeezy",
      "5893931"=>"Goldmoon88",
      "5826574"=>"kUma1",
      "5953608"=>"MToD",
      "6710315"=>"Alicia",
      "5553171"=>"LaGTTbSg",
      "5896876"=>"4kLost",
      "5894449"=>"jakekosberg",
      "5883517"=>"RatZfloorboard",
      "5894178"=>"rekSC2",
      "4895663"=>"jayTray",
      "5910291"=>"Travelers",
      "5468551"=>"CGFrogis",
      "5582870"=>"zektgn",
      "5914526"=>"owmygroin",
      "5887469"=>"CabLeSC",
      "5894596"=>"Fed78",
      "1561517"=>"marpo",
      "5651468"=>"LFGSilky",
      "5885813"=>"Saikou",
      "5784862"=>"escher47",
      "5894226"=>"SCImmortal",
      "5557712"=>"smob",
      "5894185"=>"uberstuber",
      "5894537"=>"ltblue",
      "1529120"=>"DJTyrant",
      "5894758"=>"boxgreen",
      "978322"=>"axmantra",
      "5883537"=>"VPdOpa",
      "5946511"=>"sherkasherka3030",
      "5894813"=>"SCanemone",
      "5899236"=>"sleeper1320",
      "5684730"=>"Ayamis",
      "5886280"=>"scottfarrar",
      "5890506"=>"VPCursed",
      "2249414"=>"Conserved",
      "5871793"=>"GoSuSTX",
      "5855950"=>"Tinasaur",
      "5895090"=>"Kayce10",
      "5892780"=>"CrazyDre",
      "1954719"=>"stolenpanda",
      "5909052"=>"WolfBlitzer",
      "4772533"=>"FnaticXeris",
      "5899675"=>"Crotchhammer",
      "5893828"=>"StevenBR",
      "5897312"=>"Shooz29",
      "5913824"=>"owen349",
      "5896106"=>"MakoEyes",
      "5894204"=>"Menkt",
      "5895140"=>"sungpa",
      "5918252"=>"isurusCookin",
      "5894077"=>"Funkomatic",
      "5903101"=>"4KGerbil",
      "5901150"=>"iSdaisuki",
      "5881729"=>"MarineKngXPn",
      "5883650"=>"GoSuAscension",
      "5886350"=>"LoreSC",
      "5566767"=>"SrPablo",
      "5914821"=>"vileDdoRo",
      "5920040"=>"QxGtheognis",
      "5687804"=>"DavasiaN",
      "5914634"=>"FormalP",
      "665043"=>"zzkuni08zz",
      "5721728"=>"Phraxa",
      "5905305"=>"Imix",
      "939629"=>"bpro",
      "5890989"=>"junghomon",
      "5120215"=>"Kazuke",
      "5490633"=>"OGBukkakematt",
      "5894237"=>"BoboLuvRcoon",
      "5884207"=>"VPCry",
      "5994005"=>"MaestroSAGA",
      "5894640"=>"vileSpanshwa",
      "5894128"=>"MagnusHyperion",
      "3606607"=>"phershey",
      "5903408"=>"Aurora308",
      "5885840"=>"FRVInstructions",
      "5894241"=>"vVvRickter",
      "5890533"=>"vpchance",
      "5894493"=>"Fidd",
      "5565007"=>"temprament",
      "5917199"=>"Eidas",
      "2490133"=>"masterwarrior2008",
      "8696"=>"-kHoSa-",
      "5892616"=>"Jaef",
      "5460756"=>"kanjiman",
      "5565318"=>"Reason111",
      "5894261"=>"dorrussaga",
      "5906685"=>"bromlol",
      "5944783"=>"Ethos_Starcraft",
      "6058198"=>"GosuSlowKing",
      "3278609"=>"Funn3lcak3s",
      "6127493"=>"SCDPetrify",
      "5791499"=>"CraftOfwar",
      "6159086"=>"Xnr3p",
      "6087779"=>"Harrisonmec7",
      "6136609"=>"STBomber",
      "5928309"=>"JEcho",
      "5879703"=>"bigbirdy",
      "6092861"=>"fiction8",
      "6120397"=>"Feintsc",
      "6108967"=>"SniXSniPe",
      "6114932"=>"DanceSC",
      "6085023"=>"garrettgrimsley",
      "6153686"=>"Arstan",
      "6027343"=>"a_monkey8",
      "5727882"=>"Cheshyr",
      "5582849"=>"TheGODehT",
      "6119585"=>"Scoutkp",
      "6031594"=>"SentrYSC",
      "4882621"=>"Knives_Ciao",
      "6064104"=>"scdkorlith",
      "5778555"=>"TCFClemson",
      "3031444"=>"OntologicalPWN",
      "5565831"=>"vVvSugarBear",
      "5784585"=>"SplashSC",
      "6100345"=>"Seakay",
      "1306588"=>"Kirschke",
      "5857496"=>"CrUx_",
      "5782099"=>"nGPrAeToR",
      "1152336"=>"i_FroZeN",
      "4952403"=>"iCCupDiamond",
      "6085123"=>"EvinKurA",
      "6064112"=>"IBCloaked314",
      "6041655"=>"bt_surger",
      "5701550"=>"tuxedomask",
      "6062685"=>"Eurynomos",
      "5705885"=>"MisterCatzby",
      "6052303"=>"wncsnake",
      "6081981"=>"nolliemanual",
      "4799099"=>"Brunas",
      "6054638"=>"Controversy_xD",
      "1063769"=>"lady-insanity",
      "1606978"=>"WK-Ferro",
      "5566569"=>"An_Unfortunate_Squig",
      "208222"=>"Boesthius",
      "6129293"=>"KStyle",
      "6032783"=>"strobot",
      "5784085"=>"standuhman",
      "5565560"=>"Gorgamath",
      "6143476"=>"aisarang",
      "6091088"=>"Ralethon",
      "6060276"=>"auraCow",
      "5371708"=>"mmilord",
      "5570265"=>"DotaIsBetter",
      "5044564"=>"cFButterfly",
      "6033047"=>"disownme",
      "1311221"=>"ironfistx",
      "6030407"=>"HITDERPANDA",
      "6031812"=>"QxGAxel",
      "6136648"=>"oGsNada",
      "6032211"=>"edd4007",
      "5295190"=>"FallacySka",
      "5893233"=>"pure-Panda",
      "6082900"=>"Puma",
      "6027788"=>"VOXLightSide",
      "6026478"=>"AndyOniyate",
      "6055007"=>"Nadnerb77",
      "6147761"=>"LaoTzu8",
      "5566808"=>"Hayl",
      "6071797"=>"fLcVenom",
      "5943032"=>"4KDomino",
      "5565088"=>"Bortlett",
      "4954294"=>"phantaxx",
      "6133565"=>"Syck25",
      "6027417"=>"scproxima",
      "5202163"=>"Jonoman92",
      "6111690"=>"NrG_listal",
      "6029731"=>"Jazzminkey",
      "6114978"=>"TERRANLOL",
      "6307901"=>"QxGDestiny",
      "6066710"=>"abfloorboard",
      "6104392"=>"EL33T_CaRnAgE",
      "4761828"=>"Syrupjuice",
      "6076863"=>"swirlyrolls",
      "4175431"=>"Chococosby",
      "2017185"=>"A_Happysloth",
      "5947012"=>"GeoffreyTaucer",
      "6085322"=>"aurawashere",
      "6147697"=>"vVvSweep",
      "6068180"=>"Insur",
      "6070097"=>"Nylius",
      "5864082"=>"tbowyer",
      "5800314"=>"QuantumRX",
      "6116624"=>"VPMeMCaT",
      "5530627"=>"d0pp3lg4ng3r",
      "6052047"=>"DanteStyle",
      "5567698"=>"rtclark",
      "4836586"=>"Amkhokar",
      "6104831"=>"Cu5hie",
      "5539485"=>"Healbatto",
      "6081276"=>"Usurpr",
      "5575597"=>"AKidNamedOmni",
      "6169894"=>"evolisc",
      "6081431"=>"jchirak",
      "1635881"=>"StrongCat",
      "6038052"=>"TL-TheMango",
      "6162983"=>"Alpha223",
      "6078193"=>"Henx",
      "5032336"=>"TuckerX187",
      "6095898"=>"muz163",
      "6103769"=>"fLcPsyco",
      "4875625"=>"_Jethro_",
      "1205265"=>"greg19735",
      "4769121"=>"WaveOfBabiesSC2",
      "5548706"=>"Pocketsocks",
      "4906106"=>"xFLiPNoTiK",
      "5784505"=>"ttn114",
      "6136631"=>"STTrickster",
      "4943755"=>"RuFF13",
      "5955100"=>"GimbleB",
      "6071916"=>"rohit91",
      "6064231"=>"ToBMiasma",
      "5951335"=>"nomad_dude",
      "6058151"=>"YourGoodFriend",
      "6069322"=>"fLcJank",
      "6163159"=>"coLMVPNoblesse",
      "5942693"=>"hybridfrog",
      "1852596"=>"Kobster99",
      "6050454"=>"enTrOpy_359",
      "6028001"=>"sTk_sooch",
      "126061"=>"QsK_Codered",
      "6054133"=>"teebes",
      "3900835"=>"BlAcKOuT_NoV09",
      "6151037"=>"theEND2009a",
      "5398411"=>"ArbeeH2O",
      "5830473"=>"Nosrep",
      "6043895"=>"xymemez",
      "6244117"=>"BKFaith",
      "6290070"=>"KTReasoN",
      "6250718"=>"xSixMaker",
      "6048112"=>"Fangzhou",
      "5077631"=>"BadboiOD",
      "6286633"=>"sua1ty",
      "6244894"=>"Salomon1080Fizz",
      "6042021"=>"Sidewinder1090",
      "5725487"=>"LegendFury",
      "6244883"=>"SOLiD413",
      "6216206"=>"Leezard",
      "5734199"=>"OGFTaCtSony",
      "6242308"=>"AltezZa_",
      "2422835"=>"lthegreat",
      "6245437"=>"ktmnet",
      "6248706"=>"RatZHammy",
      "54038"=>"kbscores___mlg_",
      "6281318"=>"Munk-E",
      "4510930"=>"Searlings",
      "3058109"=>"MrKamlkaze",
      "6118896"=>"BorazSC2",
      "6179081"=>"Shiori",
      "6245286"=>"kecho",
      "5740673"=>"CptChristopher",
      "6248826"=>"Stims",
      "6180585"=>"Buiboy",
      "6037561"=>"Reg0r",
      "6254886"=>"rhP-Kincaidi",
      "6244433"=>"VPAnathorn",
      "2437864"=>"VaSSiLi_Zaytsev",
      "6069687"=>"vGAnfield",
      "6286721"=>"Miranar",
      "3095549"=>"Happyhydra",
      "5049299"=>"Holyhermit",
      "6241047"=>"PullSC",
      "6273373"=>"ChanmanV",
      "6225303"=>"Danners933",
      "6002338"=>"RehabThis",
      "4724952"=>"NoPrecision",
      "4772181"=>"everytime",
      "6295483"=>"massan",
      "4443825"=>"SRuff",
      "6196685"=>"JungHyun",
      "6294070"=>"PrimeWeHongUn",
      "5784259"=>"hoTspur_",
      "6240827"=>"240mikex",
      "6286161"=>"RGNArtist",
      "6266340"=>"kiwiGotC",
      "6002073"=>"aburt123",
      "5565071"=>"evauunit01",
      "6250014"=>"KiwiHeavOnEarth",
      "6064883"=>"erik33045",
      "6172892"=>"Zanso",
      "6272514"=>"iamhrh",
      "2429647"=>"echuchee",
      "5567331"=>"tbeen",
      "6146887"=>"Kenshi235",
      "5797931"=>"NikeHeretic",
      "5532377"=>"SimonBelmont",
      "6244143"=>"HubenDraknir",
      "5898531"=>"g35terran",
      "6265106"=>"Mellois",
      "5082337"=>"plastk",
      "2504173"=>"oVrK1LL50",
      "6261555"=>"ultimatenerd",
      "6202185"=>"shpee",
      "922830"=>"Cammypoo",
      "6243179"=>"SexyRekatan",
      "6269039"=>"vinautomatic",
      "2434965"=>"Norterrible",
      "5795965"=>"Poonchow",
      "5460841"=>"Jhammy",
      "5565342"=>"Esroh",
      "4354923"=>"Omnip0tence",
      "6305347"=>"catchief",
      "1367395"=>"Yankees22121",
      "5903883"=>"TARane",
      "6244267"=>"nykurzerg",
      "6257054"=>"iPTunK",
      "6299330"=>"AncientsUser",
      "6233260"=>"DracoMAN",
      "2128953"=>"japlegend",
      "6296070"=>"skYfiVe",
      "6298563"=>"capow",
      "6042121"=>"dsson",
      "5793167"=>"TheSourOne",
      "6277076"=>"Republix",
      "6188112"=>"No_creativity",
      "6242929"=>"vgyi",
      "6307083"=>"Durtmcgurt",
      "6277626"=>"AquaBadger",
      "6283511"=>"Seinken",
      "5582077"=>"anticreativity",
      "6261137"=>"Daryonic",
      "6282865"=>"BenKen",
      "5468432"=>"Esjihn",
      "6245296"=>"fallonje",
      "6301314"=>"Edahspmal",
      "6265621"=>"teddyryanfarris",
      "6172921"=>"BigFuzzyArchon",
      "6175384"=>"rolloverdj",
      "5835532"=>"Xele",
      "6270202"=>"esiex3",
      "6300546"=>"TheLaw655",
      "6193201"=>"aReMiiX",
      "6315224"=>"aztrozon",
      "6261062"=>"NnNagisa",
      "2969011"=>"captainwaffles1",
      "6174235"=>"celi0us",
      "5460848"=>"ManToss",
      "6056642"=>"Tnerb14",
      "6245182"=>"LargeRichard",
      "5462186"=>"MasterAsiamnm",
      "3726093"=>"TehSensenmanN",
      "6130453"=>"manicaeks",
      "6250755"=>"MarineKing",
      "3001105"=>"-PureAbility-",
      "6239918"=>"zLMagikarp",
      "5565142"=>"timmyfred",
      "6314564"=>"Inori",
      "6307988"=>"TSLaLive",
      "6336862"=>"Sase",
      "6309595"=>"mouzHasuObs",
      "5787368"=>"hectorhector",
      "6246469"=>"VPCoolT",
      "6308001"=>"oGsTheStC",
      "5750476"=>"Joshuncool",
      "6359388"=>"Leenock",
      "5716446"=>"kawaiiryuko",
      "6280115"=>"zumpy005",
      "6183251"=>"Cheticus",
      "6390836"=>"shlood",
      "6258104"=>"r0b0t2k",
      "6360812"=>"Bargak1",
      "6177677"=>"InvMoi",
      "6335553"=>"GodDamnCats",
      "6258821"=>"eXMaSter",
      "6381998"=>"NrGFuzzy",
      "6335315"=>"CodyDuncan1024",
      "6375011"=>"H2O_NoMoreHero",
      "6370969"=>"xSixCuteAngel",
      "6369969"=>"IgnE",
      "6360119"=>"NamespaceSTD",
      "73455"=>"stiknork",
      "6307596"=>"Canti_the_Angel",
      "6390906"=>"KawaiiPanda",
      "6360510"=>"TFCblasta",
      "6334591"=>"Plethora22",
      "5769402"=>"blumpkinczar",
      "6339115"=>"whowahuh",
      "6360042"=>"LambNRice",
      "6335284"=>"Posistopm",
      "2958786"=>"The_Alltomata",
      "6333992"=>"InvOAB",
      "5960330"=>"gslavik",
      "6047426"=>"Blasterion",
      "6330690"=>"neotrantor",
      "4589129"=>"SilverEclipse57",
      "5544610"=>"teylewr",
      "6189564"=>"foliuss",
      "5894372"=>"Testen",
      "5412421"=>"Boyo",
      "6335437"=>"Skribbler1",
      "3960944"=>"ghostsquall",
      "4407966"=>"whitestang",
      "5401907"=>"Consuskev",
      "6316313"=>"Mediumbamx",
      "6391419"=>"ApolloSC",
      "6335469"=>"Wangong",
      "4956924"=>"Kelsin",
      "5553177"=>"WaZSkynet",
      "6163894"=>"odin607",
      "1085297"=>"UnOv3rRaT3d",
      "938852"=>"Isocene",
      "6212434"=>"TFCsoultouch",
      "6182259"=>"bsball8806",
      "4332383"=>"DarkKal",
      "6336316"=>"vVvFaZe",
      "6398430"=>"Ailuj",
      "6077532"=>"flamingcow",
      "6335295"=>"Bean4444",
      "6336851"=>"crappydefault1",
      "6360207"=>"Risk_Player",
      "6310380"=>"Forbs",
      "6335507"=>"Debussy",
      "6032175"=>"m_darkTemplar",
      "6175010"=>"Xuorig",
      "5582432"=>"zenasprime",
      "6334951"=>"rvkn",
      "5565606"=>"Quid66",
      "5776358"=>"KibbelzNbits",
      "6313697"=>"Chimeralolz",
      "6361535"=>"Budhazerg",
      "13549"=>"Rockmaninoff",
      "6051354"=>"eriddy",
      "5140163"=>"xSilentDeathKillx",
      "6336283"=>"Infernozz",
      "6360291"=>"vileNova",
      "6176922"=>"Wrosh",
      "6335549"=>"Kang1122",
      "6336799"=>"wpnewborn",
      "6093967"=>"vileSyNc",
      "1261872"=>"bowsan22",
      "5459129"=>"coLRyan",
      "6424820"=>"KarmyRH",
      "3722009"=>"A_GIANT_SMURF",
      "5727032"=>"Thrilla2k10",
      "117475"=>"J_7r41n",
      "5916919"=>"notR1CH",
      "2371679"=>"sSoda",
      "6391964"=>"coLMVPsc",
      "6333483"=>"blisslove",
      "5558445"=>"CactusSC2",
      "6388880"=>"SlayerSPuzzle",
      "6360187"=>"ldavid19",
      "6173754"=>"RinnyZerg",
      "6426244"=>"kiwiBinski",
      "6391977"=>"coLMVPKeen",
      "6104006"=>"ExpToaster",
      "6054745"=>"kangchao",
      "6318197"=>"Fyyro",
      "5786381"=>"Phate4219",
      "1602849"=>"LOL_OwneD_SCrub",
      "5463289"=>"thundertoss",
      "6338047"=>"ranautricularia",
      "6306525"=>"themooingpig",
      "6336305"=>"Stupey",
      "6172636"=>"SloTz1",
      "6335607"=>"duckyr",
      "6177966"=>"gleepy",
      "5921736"=>"Danimal481",
      "6224514"=>"Steversio",
      "6278282"=>"mungmin",
      "6178865"=>"Tenda",
      "6431192"=>"xinghartia",
      "6360299"=>"traumer",
      "6319286"=>"dgsonnyb",
      "5739067"=>"giblaz",
      "6176320"=>"zionsc",
      "5783355"=>"a9arnn",
      "6335562"=>"JumpmanJ13",
      "5149652"=>"OverZealous",
      "2141575"=>"crowleyman222",
      "6331411"=>"Buzzbin",
      "6050310"=>"Marknb",
      "6166790"=>"mTsMhodesty",
      "6295497"=>"YuRDeD",
      "6432919"=>"SyncSugarman",
      "32922"=>"skaterchief",
      "5567360"=>"OMGNARWHALZ",
      "6336275"=>"IDtolltaran",
      "6334899"=>"richardjinwwp",
      "4357533"=>"Tyrael51793",
      "5683596"=>"Aurabolt12",
      "6331791"=>"Drunkasarous",
      "6186714"=>"evcameron",
      "6335482"=>"whentruenightfalls",
      "6335130"=>"DojoJoe",
      "5774262"=>"robfplusp",
      "6357678"=>"BenJay182",
      "6334764"=>"JoshFreeman",
      "6196491"=>"tsiebertz",
      "4875425"=>"Nikoras",
      "6318506"=>"alphafuzard",
      "6351519"=>"vVvMaze",
      "917677"=>"Blackcat008",
      "6339210"=>"Wizardpants",
      "6360090"=>"Lev_Staircase",
      "6045578"=>"design2kill",
      "4166960"=>"BeRRyBoY-",
      "6181008"=>"GeneralSC2",
      "6187865"=>"Osoxo",
      "6335455"=>"InfPandora",
      "6335625"=>"GosuLockee",
      "6335548"=>"narcoticdruid",
      "6332432"=>"fdsdfg",
      "6173268"=>"Robsc",
      "6339109"=>"leadreed",
      "6348096"=>"Kyoubro",
      "6342825"=>"iMoKryptonite",
      "6175355"=>"Pandain",
      "6360127"=>"t_Swift",
      "6365402"=>"Troy57690",
      "6378857"=>"x28yeti",
      "6182228"=>"alivefire",
      "6051331"=>"tommywaaf",
      "6311926"=>"silverphoenix48",
      "5460894"=>"ROOTMinigun",
      "6764114"=>"Parting",
      "6729191"=>"Pomi",
      "5866726"=>"pillowmaster",
      "6825381"=>"derekt92",
      "5572779"=>"jdgaulin",
      "6913387"=>"Kard88",
      "6269754"=>"Cityondown93",
      "6831064"=>"Recksaw",
      "6322508"=>"nbeachy",
      "6457778"=>"sunnysc",
      "5754512"=>"Isaac1729",
      "6796255"=>"Blitchiz",
      "6830946"=>"Sleep",
      "6280867"=>"PengWin_SC",
      "6825760"=>"Daisuki",
      "6824774"=>"GWU_arthur",
      "6832673"=>"Rathorne",
      "5790548"=>"drlemur",
      "5722176"=>"Shield101",
      "6181455"=>"YaTaFTW",
      "6432457"=>"WronchiAnimation",
      "6341079"=>"th3unseen",
      "5442738"=>"sethjaussen",
      "6796867"=>"TheDude72727",
      "6876041"=>"ELeven-",
      "5998877"=>"SinFeo",
      "3598926"=>"iamtheman3",
      "6436627"=>"lolstarz",
      "5822094"=>"Lobber",
      "6910847"=>"Nubl33t",
      "6850064"=>"kiwiLighT",
      "6830995"=>"Everyman",
      "6435291"=>"ZaiZai163",
      "5765739"=>"bwl2",
      "6816159"=>"iSPyre",
      "5927008"=>"fujikura",
      "6913428"=>"gosu349",
      "6796044"=>"Monk1",
      "6808359"=>"FTaCtLotus",
      "6825359"=>"Ekrje",
      "6182053"=>"Natarm",
      "6092466"=>"H2OinSighT",
      "6048192"=>"Foresteye",
      "6163958"=>"omer2007",
      "6869701"=>"Quonzar",
      "6891203"=>"Hathrow",
      "5776663"=>"fantacy",
      "6400144"=>"aidann23",
      "6044134"=>"stevo12362",
      "1164537"=>"Welchiz",
      "5560523"=>"NConley9",
      "5566697"=>"ZergTixx",
      "5716685"=>"o01shadow",
      "4784829"=>"Lookingnew",
      "5568879"=>"UnknownReclaimer",
      "2316360"=>"Generick",
      "6182776"=>"thekoven",
      "5562613"=>"Kokumuo",
      "6879156"=>"mbncheckit",
      "6910356"=>"HyuKStyLe",
      "3601705"=>"Nathanias",
      "5642283"=>"Spike794",
      "669443"=>"Cantro101",
      "5468773"=>"manarch",
      "6893212"=>"ditta",
      "6913079"=>"p0ww",
      "6431540"=>"wayne6720",
      "6799965"=>"LevPosistomp",
      "5906024"=>"polarissc",
      "6327983"=>"Dully299",
      "5461204"=>"Xlancer",
      "2940054"=>"-Baldwin-",
      "6819419"=>"LevMhodesty",
      "5565031"=>"SgtRock89",
      "5442377"=>"Jwu0169",
      "3719700"=>"the_forks",
      "761906"=>"Shalafi13",
      "6825390"=>"admcrunchSZ",
      "4164434"=>"BlueQuad",
      "6826376"=>"Ayamis752",
      "6825801"=>"stetter",
      "6322203"=>"cukes",
      "6800171"=>"Area51Focus",
      "6861717"=>"SuPeR961",
      "6315856"=>"snkutkoski",
      "5686395"=>"Weaslelord",
      "6825337"=>"OGbossplaya",
      "6824430"=>"Aucamazn",
      "6044061"=>"jdittert",
      "6890498"=>"qapuk",
      "6825365"=>"Livinpink",
      "6831791"=>"01Josh",
      "5573641"=>"mumblee",
      "5740826"=>"Mokomi",
      "2453861"=>"-Offset",
      "74473"=>"DSx_Snap",
      "6825674"=>"omallerp",
      "6913381"=>"Tomdobrow",
      "6799912"=>"DrKItachiX",
      "6825385"=>"FallenFatality",
      "5553495"=>"CapricaSix",
      "5699268"=>"goliath_online",
      "5777777"=>"jturner13",
      "6826009"=>"MsSpyte",
      "5760374"=>"colin21684",
      "6888572"=>"sMi_LogiC",
      "6793988"=>"ShinseiSC",
      "6089075"=>"gyfsukata",
      "6335326"=>"Zren",
      "6779649"=>"breaCh132",
      "32712"=>"samman009",
      "6826346"=>"defgfedii",
      "6848816"=>"HeavensLighT",
      "6855988"=>"Symbol",
      "6257455"=>"mousesportsHasu",
      "6831017"=>"JYP",
      "6913158"=>"FatAardvark",
      "6319989"=>"centarus",
      "6183090"=>"lcpunkrawk",
      "6913316"=>"Insur",
      "6756395"=>"dayio",
      "6360799"=>"Bargak",
      "6773375"=>"KawaiiRiceLighT",
      "6801273"=>"cLvWinter",
      "6798314"=>"Goody",
      "7050579"=>"boonrebu",
      "7054685"=>"UCDTbeezy",
      "7083981"=>"Specialist",
      "6913325"=>"Axslav",
      "7099377"=>"Box",
      "5903254"=>"Mekhami",
      "7056462"=>"Power",
      "6947838"=>"cvgPuCK",
      "6175604"=>"EDEdDNEdDYFaN",
      "6114293"=>"Top",
      "6910465"=>"Leaf01",
      "6729346"=>"liquidzenio",
      "6177777"=>"jemag",
      "5575876"=>"Wowcraft16",
      "4960352"=>"ukas85",
      "7064013"=>"xSixMaximus",
      "6932064"=>"Tails",
      "6871793"=>"ArtillerySC",
      "3091724"=>"xerO_o",
      "7087392"=>"Sm1Le",
      "6932069"=>"Monster",
      "6913827"=>"SilentSC2",
      "1515512"=>"Coramoor_",
      "7113281"=>"LegitNeox",
      "5942486"=>"Kazeyonoma",
      "7038963"=>"Faent",
      "6938339"=>"GerbilLighT",
      "6045950"=>"toast133",
      "6315100"=>"Noumena",
      "6948446"=>"vVvRockEr",
      "6184071"=>"XxDefexX",
      "5570184"=>"stealthypoo",
      "6945797"=>"sMiMedic",
      "2997077"=>"desRow",
      "6925673"=>"keydMaker",
      "7030048"=>"xOAtlaS",
      "6184429"=>"Bmonarch"
    }
    
    # Qualified Players:
    # [["Alicia"], ["PuMa"], ["Stephano"], ["SaSe"], ["GanZi"], ["Oz"], ["aLive"], ["Grubby"], ["HerO"], ["TaeJa"], ["LosirA"], ["First"], ["Ryung"], ["RevivaL"],
    # ["TOP"], ["Rain"], ["Dream"], ["Illusion"], ["Golden"], ["qxc"], ["viOLet"], ["Sheth"], ["Sasquatch"], ["ReaL"], ["GoOdy"], ["SortOf"], ["Daisy"], ["Snute"],
    # ["Welmu"], ["roof"], ["Cytoplasm"], ["Tefel"]]

    @mlgids_qualified = [
      '6710315', # Alicia
      '6082900', # Puma
      '6284666', # Stephano
      '6336862', # Sase,
      '5952596', # Ganzi
      '5920235', # Oz
      '6757970', # Alive
      # '6307988', # TSLAlive
      '5461383', # Grubby
      '6114661', # Liquid_HerO
      '6932436', # Taeja
      '5744099', # Losira
      '7162827', # First
      '6710301', # Ryung
      '6764195', # Revival
      '6764132', # Top
      # '6114293', # Top (#2) - the first id played the qualifiers
      '5898304', # Rain
      '6932063', # Dream (yea, it's him)
      '6113417', # vileIllusion
      '6867118', # Golden
      '4772548', # qxc
      '6366865', # Violet
      '6164611', # Sheth
      '6367508', # cvgSasquatch
      '6193280', # Real
      '6736351', # Goody
      # '6798314', # Goody (#2) - the first id played the qualifiers
      '6948747', # Sortof
      '6943642', # Daisy
      '6944545', # Snute
      '6179611', # Welmu
      '6235394', # Roof
      '6946798', # Cytoplasm
      '6975627', # Tefel
    ]

    # Yea, let's just fill this nice controller up with random stuff :)
    #
    # a = ["6710315", "6082900", "6284666", "6336862", "5952596", "5920235", "6757970", "5461383", "6114661", "6932436", "5744099", "7162827", "6710301", "6764195", "6764132", "5898304", "6932063", "6113417", "6867118", "4772548", "6366865", "6164611", "6367508", "6193280", "6736351", "6948747", "6943642", "6944545", "6179611", "6235394", "6946798", "6975627"]
    # Hash[*a.collect{|i| [i, ESDB::Provider::Identity.first(:provider_ident => i).id]}.flatten]
    @esdb_ids = {"6710315"=>551, "6082900"=>769, "6284666"=>209, "6336862"=>1001, "5952596"=>574, "5920235"=>524, "6757970"=>1295, "5461383"=>212, "6114661"=>758, "6932436"=>2655, "5744099"=>355, "7162827"=>2615, "6710301"=>91, "6764195"=>2629, "6764132"=>2640, "5898304"=>554, "6932063"=>1320, "6113417"=>777, "6867118"=>1308, "4772548"=>21, "6366865"=>211, "6164611"=>331, "6367508"=>1082, "6193280"=>2537, "6736351"=>2545, "6948747"=>2527, "6943642"=>2531, "6944545"=>2521, "6179611"=>2534, "6235394"=>2544, "6946798"=>2524, "6975627"=>1322}

@esdb_ids = {
  "572" => 14,
 "8696" => 633,
 "12305" => 330,
          "13549" => 1078,
           "16735" => 493,
          "32712" => 1293,
            "32917" => 83,
          "32922" => 1135,
           "54038" => 892,
           "54333" => 288,
           "57909" => 418,
          "71366" => 2593,
          "73455" => 1027,
          "74473" => 1276,
            "112072" => 18,
          "117475" => 1093,
           "122133" => 436,
           "126061" => 860,
           "127268" => 141,
           "127791" => 184,
           "147014" => 631,
           "201940" => 379,
           "205035" => 507,
           "208222" => 742,
           "268538" => 526,
            "319932" => 22,
           "665043" => 611,
          "669443" => 1241,
          "761906" => 1256,
           "780635" => 119,
          "917677" => 1153,
            "921007" => 16,
           "922830" => 944,
          "938852" => 1058,
           "939629" => 614,
           "958505" => 420,
           "978322" => 576,
           "1063769" => 739,
           "1077759" => 532,
          "1085297" => 1057,
            "1114442" => 56,
           "1152336" => 726,
          "1164537" => 1228,
            "1179717" => 57,
           "1205265" => 830,
           "1228730" => 134,
          "1261872" => 1088,
           "1280560" => 318,
           "1295781" => 394,
           "1306588" => 722,
           "1311221" => 756,
           "1317451" => 315,
           "1367395" => 953,
           "1426317" => 445,
           "1463005" => 292,
          "1515512" => 1780,
           "1529120" => 573,
           "1552044" => 229,
           "1561517" => 565,
          "1602849" => 1108,
           "1606978" => 740,
           "1635881" => 822,
           "1852596" => 851,
           "1923258" => 125,
            "1933038" => 28,
           "1954719" => 589,
           "2017185" => 801,
           "2128953" => 959,
          "2141575" => 1128,
           "2147286" => 463,
           "2249414" => 584,
          "2316360" => 1234,
          "2371679" => 1095,
            "2374716" => 12,
          "2402464" => 2555,
           "2422835" => 889,
           "2429647" => 931,
           "2434965" => 947,
           "2437864" => 906,
            "2450030" => 36,
          "2453861" => 1275,
           "2479912" => 485,
           "2485822" => 158,
           "2490133" => 632,
           "2504173" => 941,
           "2507867" => 523,
           "2531859" => 111,
           "2542710" => 372,
          "2611003" => 2613,
           "2672492" => 112,
          "2745192" => 1179,
           "2794142" => 522,
          "2940054" => 1251,
          "2958786" => 1037,
           "2969011" => 986,
           "2983700" => 389,
          "2997077" => 1796,
           "3001105" => 996,
           "3022094" => 496,
           "3031444" => 718,
           "3058109" => 896,
          "3091724" => 1776,
           "3095549" => 909,
           "3122512" => 113,
             "3207097" => 6,
           "3278609" => 693,
           "3300948" => 145,
          "3598926" => 1204,
          "3601705" => 1239,
           "3606607" => 623,
          "3719700" => 1255,
          "3722009" => 1091,
           "3724392" => 519,
           "3725218" => 527,
           "3726093" => 993,
           "3900835" => 862,
          "3942843" => 2587,
          "3960944" => 1048,
           "3974093" => 544,
           "4070186" => 322,
            "4159164" => 87,
          "4164434" => 1259,
          "4166960" => 1157,
           "4175431" => 800,
          "4332383" => 1061,
           "4354923" => 951,
          "4357533" => 1139,
            "4364722" => 13,
          "4407966" => 1049,
           "4438595" => 509,
           "4443825" => 918,
            "4449142" => 38,
            "4450296" => 64,
           "4462941" => 244,
           "4510930" => 894,
           "4513708" => 431,
             "4521651" => 4,
           "4523697" => 183,
            "4525904" => 44,
           "4536932" => 306,
          "4589129" => 1042,
            "4656346" => 31,
           "4681102" => 117,
           "4724952" => 915,
           "4755198" => 503,
             "4756651" => 5,
           "4761828" => 798,
            "4765865" => 60,
            "4766234" => 23,
           "4769121" => 831,
            "4771755" => 55,
             "4772104" => 1,
            "4772118" => 27,
           "4772181" => 916,
            "4772416" => 53,
             "4772521" => 9,
           "4772533" => 591,
            "4772548" => 21,
            "4772579" => 46,
            "4772699" => 39,
            "4773569" => 59,
            "4778283" => 29,
            "4779120" => 63,
           "4782173" => 409,
            "4782337" => 15,
            "4783201" => 26,
           "4783306" => 227,
          "4784829" => 1232,
             "4786254" => 2,
            "4795018" => 43,
           "4797785" => 187,
           "4799099" => 737,
            "4799550" => 24,
            "4805779" => 94,
           "4825957" => 504,
            "4828364" => 11,
           "4830631" => 351,
           "4836586" => 815,
           "4847102" => 390,
             "4850042" => 7,
            "4854270" => 34,
           "4858008" => 391,
            "4860375" => 84,
            "4862837" => 47,
          "4875425" => 1149,
             "4875474" => 8,
           "4875625" => 829,
           "4877907" => 159,
            "4881517" => 40,
           "4882621" => 715,
            "4894476" => 32,
           "4895663" => 558,
            "4899330" => 20,
            "4901660" => 61,
            "4905678" => 10,
            "4905758" => 48,
            "4905904" => 62,
            "4906086" => 51,
           "4906106" => 835,
            "4906115" => 42,
            "4906123" => 54,
           "4907254" => 358,
            "4908477" => 45,
            "4917108" => 49,
            "4918446" => 58,
            "4919430" => 50,
           "4923010" => 188,
            "4935284" => 37,
           "4935697" => 135,
           "4943664" => 115,
           "4943755" => 838,
           "4947155" => 102,
           "4947886" => 154,
            "4948024" => 85,
            "4948182" => 93,
           "4948263" => 137,
           "4948824" => 128,
           "4948854" => 148,
           "4948856" => 152,
            "4948873" => 95,
           "4948889" => 161,
           "4948905" => 136,
           "4948941" => 160,
           "4949013" => 124,
           "4949956" => 168,
           "4950062" => 163,
           "4950337" => 195,
           "4950558" => 108,
           "4950908" => 157,
           "4952403" => 727,
           "4952641" => 118,
           "4954294" => 788,
           "4955031" => 101,
           "4956369" => 121,
           "4956435" => 276,
           "4956511" => 126,
           "4956556" => 181,
          "4956924" => 1054,
           "4958436" => 151,
           "4959229" => 140,
           "4959624" => 515,
           "4960195" => 114,
          "4960352" => 1772,
           "4960385" => 165,
           "4960652" => 110,
           "4961300" => 100,
           "4961317" => 142,
            "4964055" => 30,
            "4965026" => 97,
           "4965212" => 396,
           "4965590" => 123,
           "4965738" => 185,
           "4966017" => 116,
           "4966022" => 109,
           "4966487" => 196,
           "4967423" => 171,
           "4967749" => 143,
           "4967760" => 122,
           "4969444" => 130,
           "4969823" => 149,
           "4970695" => 131,
            "4971185" => 86,
           "4972830" => 132,
            "4972941" => 96,
           "4973723" => 129,
           "4974606" => 166,
           "4977014" => 186,
           "4977403" => 120,
           "4977697" => 310,
           "4981376" => 105,
            "4988467" => 98,
           "4988482" => 150,
           "4989519" => 127,
           "4993262" => 175,
            "4994342" => 99,
            "4994947" => 89,
           "4995490" => 179,
           "4997922" => 139,
           "4998707" => 103,
           "5001203" => 107,
           "5002060" => 106,
           "5002573" => 182,
           "5008794" => 104,
           "5010568" => 162,
           "5010751" => 133,
           "5013579" => 437,
           "5032336" => 826,
           "5044564" => 754,
           "5049299" => 910,
           "5077631" => 879,
           "5082337" => 940,
           "5086456" => 414,
           "5119565" => 225,
           "5120215" => 616,
          "5140163" => 1080,
          "5149652" => 1127,
           "5166378" => 380,
           "5202163" => 791,
           "5213649" => 473,
           "5295190" => 767,
           "5371708" => 752,
           "5372553" => 421,
           "5374868" => 324,
           "5396104" => 384,
           "5398411" => 872,
           "5400820" => 265,
          "5400834" => 1134,
          "5401907" => 1050,
           "5403825" => 474,
           "5406445" => 284,
           "5408102" => 376,
          "5412421" => 1046,
           "5420492" => 336,
           "5427660" => 305,
           "5440137" => 534,
          "5442377" => 1254,
          "5442738" => 1200,
           "5447190" => 221,
           "5449181" => 308,
           "5449531" => 475,
           "5454478" => 432,
           "5458169" => 342,
           "5458337" => 235,
          "5459129" => 1089,
           "5460241" => 417,
           "5460485" => 413,
           "5460490" => 237,
           "5460597" => 243,
           "5460651" => 266,
           "5460721" => 258,
           "5460756" => 642,
           "5460802" => 428,
           "5460823" => 267,
           "5460826" => 238,
           "5460841" => 949,
           "5460848" => 989,
           "5460861" => 240,
           "5460864" => 246,
           "5460867" => 226,
          "5460894" => 1175,
            "5461050" => 35,
           "5461091" => 539,
           "5461129" => 334,
          "5461204" => 1249,
           "5461317" => 270,
           "5461383" => 212,
           "5461511" => 427,
           "5461737" => 494,
           "5462035" => 222,
           "5462186" => 992,
          "5463289" => 1109,
           "5464429" => 478,
           "5466682" => 296,
           "5468245" => 455,
           "5468432" => 974,
           "5468551" => 560,
           "5468558" => 348,
          "5468773" => 1242,
           "5469656" => 529,
           "5472380" => 424,
           "5473868" => 410,
           "5485051" => 440,
           "5490633" => 617,
           "5508685" => 316,
           "5530627" => 810,
           "5532377" => 935,
           "5539129" => 256,
           "5539485" => 817,
            "5543402" => 88,
           "5543433" => 233,
          "5544610" => 1043,
           "5548706" => 834,
           "5553171" => 552,
          "5553177" => 1055,
          "5553495" => 1281,
           "5557084" => 311,
           "5557712" => 570,
          "5558445" => 1098,
           "5558799" => 449,
          "5560523" => 1229,
          "5562613" => 1236,
           "5565007" => 629,
          "5565031" => 1253,
           "5565071" => 926,
           "5565088" => 781,
           "5565142" => 998,
           "5565318" => 645,
           "5565342" => 950,
           "5565560" => 748,
          "5565606" => 1074,
           "5565831" => 719,
           "5566013" => 386,
           "5566223" => 333,
           "5566569" => 741,
          "5566697" => 1230,
           "5566767" => 606,
           "5566808" => 774,
           "5567331" => 932,
          "5567360" => 1136,
           "5567698" => 814,
           "5568275" => 248,
           "5568641" => 241,
           "5568821" => 513,
          "5568879" => 1233,
          "5570184" => 1793,
           "5570265" => 753,
           "5570375" => 368,
           "5571199" => 387,
          "5572779" => 1182,
           "5573561" => 349,
          "5573641" => 1273,
           "5575597" => 819,
           "5575803" => 263,
          "5575815" => 1250,
          "5575876" => 1771,
           "5582077" => 971,
          "5582432" => 1072,
           "5582849" => 711,
           "5582870" => 561,
           "5588122" => 260,
           "5598600" => 320,
           "5606311" => 302,
           "5608455" => 406,
           "5609055" => 313,
           "5609080" => 451,
           "5609909" => 382,
           "5610702" => 366,
          "5612178" => 2588,
           "5615743" => 356,
           "5617648" => 346,
           "5622388" => 411,
           "5623405" => 301,
           "5640860" => 335,
          "5642283" => 1240,
           "5651468" => 566,
           "5658934" => 415,
           "5660841" => 397,
           "5663855" => 400,
           "5670472" => 426,
           "5675769" => 290,
           "5678439" => 262,
          "5681519" => 2567,
           "5681537" => 323,
           "5681745" => 359,
           "5682086" => 448,
           "5682381" => 223,
           "5682403" => 280,
           "5683342" => 259,
           "5683478" => 444,
           "5683594" => 332,
          "5683596" => 1140,
           "5683653" => 525,
           "5684009" => 339,
           "5684319" => 341,
           "5684346" => 450,
           "5684608" => 275,
           "5684730" => 581,
           "5684815" => 274,
           "5684991" => 430,
           "5684994" => 281,
           "5684998" => 312,
           "5684999" => 363,
           "5685003" => 309,
           "5685007" => 344,
           "5685010" => 272,
           "5685014" => 371,
           "5685025" => 307,
           "5685035" => 447,
           "5685075" => 375,
           "5685085" => 439,
           "5685105" => 321,
           "5685127" => 385,
           "5685147" => 340,
           "5685184" => 239,
           "5685188" => 286,
            "5685208" => 17,
           "5685247" => 365,
           "5685257" => 287,
           "5685405" => 399,
           "5685560" => 362,
           "5685562" => 245,
           "5685584" => 435,
           "5685831" => 269,
           "5685844" => 317,
           "5685846" => 264,
           "5685848" => 392,
           "5685921" => 327,
           "5685939" => 338,
           "5686121" => 273,
          "5686395" => 1266,
           "5686497" => 419,
           "5686681" => 369,
           "5686815" => 247,
           "5686840" => 407,
           "5687148" => 250,
           "5687256" => 398,
           "5687276" => 300,
           "5687406" => 271,
           "5687419" => 374,
           "5687678" => 402,
           "5687804" => 609,
           "5687820" => 443,
           "5687875" => 378,
           "5688124" => 367,
           "5688562" => 268,
            "5688747" => 19,
           "5688861" => 425,
           "5688898" => 352,
           "5689245" => 251,
           "5689305" => 353,
           "5689370" => 350,
           "5689412" => 298,
           "5689497" => 377,
           "5690107" => 361,
           "5690477" => 405,
           "5690882" => 383,
           "5691016" => 282,
           "5691577" => 401,
           "5697801" => 393,
          "5697943" => 2576,
           "5698073" => 278,
          "5699268" => 1282,
           "5699520" => 416,
           "5699641" => 304,
           "5701550" => 732,
           "5701655" => 433,
           "5701974" => 138,
           "5702269" => 295,
           "5702808" => 408,
           "5703331" => 277,
           "5703346" => 234,
           "5703483" => 453,
           "5703773" => 429,
           "5704784" => 345,
           "5705528" => 283,
           "5705885" => 734,
           "5705906" => 454,
           "5706169" => 364,
           "5706441" => 291,
           "5707294" => 242,
           "5708055" => 319,
           "5708717" => 329,
           "5709048" => 232,
           "5710478" => 403,
           "5712402" => 422,
           "5715347" => 423,
          "5716446" => 1011,
           "5716500" => 326,
          "5716685" => 1231,
           "5717366" => 289,
           "5718025" => 347,
           "5718343" => 343,
           "5718375" => 236,
           "5718512" => 446,
           "5720640" => 381,
            "5721276" => 52,
           "5721443" => 373,
           "5721510" => 456,
           "5721728" => 612,
           "5721888" => 294,
           "5721999" => 388,
          "5722176" => 1196,
           "5722542" => 303,
           "5723448" => 434,
           "5723999" => 412,
           "5724985" => 395,
           "5725048" => 370,
           "5725487" => 884,
           "5725883" => 360,
           "5725920" => 299,
          "5727032" => 1092,
           "5727882" => 710,
           "5728554" => 285,
           "5730781" => 293,
           "5734199" => 887,
           "5734243" => 249,
           "5737298" => 488,
           "5737804" => 297,
           "5738292" => 442,
           "5738435" => 498,
          "5739067" => 1123,
           "5740673" => 900,
          "5740826" => 1274,
           "5741022" => 325,
           "5742431" => 337,
           "5743814" => 314,
           "5744099" => 355,
           "5744106" => 230,
           "5744290" => 224,
           "5744314" => 279,
          "5750476" => 1008,
           "5751692" => 438,
          "5754117" => 1324,
          "5754512" => 1188,
          "5760374" => 1285,
           "5762438" => 257,
           "5765532" => 354,
          "5765739" => 1212,
           "5765741" => 464,
          "5769402" => 1033,
           "5773511" => 215,
          "5774262" => 1145,
          "5776358" => 1075,
          "5776663" => 1225,
          "5777777" => 1283,
           "5778064" => 404,
           "5778411" => 357,
           "5778555" => 717,
           "5778866" => 328,
           "5779913" => 542,
           "5782099" => 725,
           "5782287" => 528,
          "5783355" => 1125,
           "5784085" => 746,
           "5784259" => 921,
           "5784505" => 836,
           "5784585" => 720,
           "5784862" => 568,
          "5786381" => 1107,
          "5787368" => 1003,
           "5790088" => 482,
          "5790548" => 1195,
           "5791499" => 695,
           "5792083" => 517,
           "5792382" => 490,
           "5793167" => 963,
           "5795965" => 948,
           "5797931" => 934,
           "5798319" => 508,
           "5799965" => 505,
           "5800314" => 808,
          "5804172" => 2573,
           "5807573" => 471,
           "5818367" => 512,
          "5822094" => 1206,
           "5826574" => 549,
           "5830473" => 873,
           "5833181" => 521,
           "5835532" => 980,
           "5855950" => 586,
           "5857496" => 724,
           "5858914" => 466,
           "5859202" => 492,
           "5864082" => 807,
          "5866726" => 1180,
           "5871793" => 585,
           "5879703" => 702,
           "5881729" => 603,
           "5882248" => 167,
           "5882481" => 537,
           "5883141" => 460,
           "5883517" => 556,
           "5883537" => 577,
           "5883650" => 604,
           "5883666" => 536,
           "5884207" => 619,
           "5884742" => 506,
           "5885417" => 531,
           "5885678" => 541,
           "5885772" => 465,
           "5885780" => 491,
           "5885805" => 518,
           "5885813" => 567,
           "5885820" => 514,
           "5885840" => 625,
           "5885889" => 538,
           "5886280" => 582,
           "5886350" => 605,
           "5887469" => 563,
           "5890506" => 583,
           "5890533" => 627,
           "5890804" => 510,
           "5890989" => 615,
           "5891174" => 486,
           "5892616" => 634,
           "5892780" => 588,
           "5893233" => 768,
           "5893828" => 593,
           "5893931" => 548,
           "5894076" => 472,
           "5894077" => 600,
           "5894128" => 622,
           "5894178" => 557,
           "5894181" => 547,
           "5894185" => 571,
           "5894204" => 597,
           "5894214" => 483,
           "5894221" => 495,
           "5894226" => 569,
           "5894237" => 618,
           "5894241" => 626,
           "5894245" => 461,
           "5894261" => 648,
           "5894277" => 477,
           "5894300" => 480,
           "5894307" => 484,
           "5894311" => 543,
           "5894348" => 468,
          "5894372" => 1045,
           "5894438" => 533,
           "5894449" => 555,
           "5894493" => 628,
           "5894537" => 572,
           "5894596" => 564,
           "5894640" => 621,
           "5894655" => 511,
           "5894758" => 575,
           "5894813" => 579,
           "5895090" => 587,
           "5895140" => 598,
           "5895166" => 545,
           "5896050" => 476,
           "5896106" => 596,
           "5896876" => 553,
           "5897312" => 594,
           "5897589" => 459,
           "5897612" => 469,
           "5898304" => 554,
            "5898325" => 33,
           "5898457" => 502,
           "5898502" => 501,
           "5898531" => 937,
           "5898829" => 530,
           "5899236" => 580,
           "5899675" => 592,
           "5901150" => 602,
           "5903101" => 601,
          "5903254" => 1331,
           "5903408" => 624,
           "5903883" => 954,
           "5905305" => 613,
          "5906024" => 1247,
           "5906685" => 651,
           "5906839" => 500,
           "5907087" => 939,
           "5908545" => 467,
           "5909052" => 590,
           "5910291" => 559,
           "5910714" => 540,
           "5913820" => 479,
           "5913824" => 595,
           "5914526" => 562,
           "5914634" => 610,
           "5914821" => 607,
          "5916919" => 1094,
           "5917199" => 630,
           "5917526" => 489,
           "5918252" => 599,
           "5920040" => 608,
           "5920235" => 524,
           "5920252" => 481,
           "5920777" => 497,
           "5921002" => 499,
          "5921736" => 1116,
           "5922634" => 516,
           "5923455" => 520,
           "5923682" => 487,
           "5924078" => 546,
           "5924566" => 535,
          "5927008" => 1214,
           "5928309" => 701,
          "5942486" => 1784,
           "5942693" => 848,
           "5943032" => 780,
           "5944783" => 691,
           "5946511" => 578,
           "5947012" => 802,
           "5947409" => 458,
           "5951335" => 842,
           "5952596" => 574,
           "5953608" => 550,
           "5954933" => 441,
           "5955048" => 261,
           "5955100" => 839,
            "5956343" => 41,
          "5960330" => 1039,
           "5994005" => 620,
          "5998877" => 1203,
             "5998921" => 3,
           "6002073" => 925,
           "6002338" => 914,
           "6018780" => 462,
           "6025779" => 855,
           "6026478" => 771,
           "6027343" => 709,
           "6027417" => 790,
           "6027788" => 770,
           "6028001" => 859,
           "6029731" => 793,
           "6030407" => 757,
           "6031594" => 714,
           "6031812" => 762,
          "6032175" => 1070,
           "6032211" => 766,
           "6032783" => 744,
           "6033047" => 755,
           "6037561" => 903,
           "6038052" => 823,
           "6041655" => 731,
           "6042021" => 883,
           "6042121" => 962,
           "6043895" => 874,
          "6044061" => 1269,
          "6044134" => 1227,
           "6045226" => 775,
          "6045578" => 1156,
          "6045950" => 1787,
          "6047426" => 1040,
           "6048112" => 878,
          "6048192" => 1221,
          "6050310" => 1130,
           "6050454" => 854,
          "6051331" => 1173,
          "6051354" => 1079,
           "6052047" => 811,
           "6052303" => 735,
           "6054133" => 861,
           "6054638" => 738,
          "6054745" => 1105,
           "6055007" => 772,
           "6056642" => 990,
           "6057578" => 761,
           "6058151" => 843,
           "6058198" => 692,
           "6060276" => 751,
           "6062685" => 733,
           "6064104" => 716,
           "6064112" => 729,
           "6064231" => 841,
           "6064883" => 928,
           "6066710" => 796,
           "6068180" => 805,
           "6069322" => 846,
           "6069687" => 907,
           "6070097" => 806,
           "6071797" => 776,
           "6071916" => 840,
           "6075845" => 759,
           "6076863" => 799,
          "6077532" => 1064,
           "6078193" => 825,
           "6081276" => 818,
           "6081431" => 821,
           "6081981" => 736,
           "6082900" => 769,
           "6085023" => 707,
           "6085123" => 728,
           "6085322" => 803,
           "6087779" => 697,
          "6089075" => 1289,
           "6091088" => 750,
          "6092466" => 1220,
           "6092861" => 703,
          "6093967" => 1087,
           "6095898" => 827,
           "6100345" => 721,
           "6100825" => 813,
           "6103769" => 828,
          "6104006" => 1104,
           "6104392" => 797,
           "6104831" => 816,
           "6108967" => 705,
           "6111690" => 792,
           "6113417" => 777,
          "6114293" => 1337,
           "6114661" => 758,
           "6114932" => 706,
           "6114978" => 794,
           "6116624" => 809,
           "6118896" => 897,
           "6119585" => 712,
           "6120397" => 704,
           "6127493" => 694,
           "6129293" => 743,
           "6130453" => 994,
           "6133565" => 789,
           "6136609" => 698,
           "6136631" => 837,
           "6136648" => 765,
          "6138693" => 2569,
           "6143476" => 749,
           "6146010" => 764,
           "6146887" => 933,
           "6147697" => 804,
           "6147761" => 773,
           "6151037" => 864,
           "6152884" => 216,
           "6153686" => 708,
           "6159086" => 696,
           "6162983" => 824,
           "6163159" => 847,
          "6163894" => 1056,
          "6163958" => 1222,
          "6164103" => 2591,
           "6164611" => 331,
          "6166790" => 1131,
           "6169894" => 820,
           "6170064" => 882,
          "6172636" => 1113,
           "6172892" => 929,
           "6172921" => 978,
          "6173268" => 1164,
          "6173754" => 1101,
           "6174235" => 988,
          "6175010" => 1071,
          "6175355" => 1168,
           "6175384" => 979,
          "6175604" => 1336,
          "6176320" => 1124,
          "6176922" => 1084,
          "6177677" => 1018,
          "6177777" => 1770,
          "6177966" => 1115,
          "6178730" => 1799,
          "6178865" => 1119,
           "6179081" => 898,
          "6179611" => 2534,
           "6180585" => 902,
          "6181008" => 1158,
          "6181455" => 1197,
          "6182053" => 1219,
          "6182228" => 1172,
          "6182259" => 1060,
          "6182776" => 1235,
          "6183090" => 1310,
          "6183251" => 1013,
          "6184071" => 1791,
          "6184362" => 2572,
          "6184429" => 1802,
          "6185852" => 2590,
          "6186224" => 2528,
          "6186714" => 1142,
          "6187865" => 1159,
           "6188112" => 966,
          "6189564" => 1044,
           "6193201" => 983,
          "6193280" => 2537,
          "6196491" => 1148,
           "6196685" => 919,
           "6202185" => 943,
          "6212434" => 1059,
           "6216206" => 886,
          "6224514" => 1117,
           "6225303" => 913,
           "6233260" => 958,
          "6235394" => 2544,
           "6239918" => 997,
           "6240827" => 922,
           "6241047" => 911,
           "6242308" => 888,
          "6242614" => 2542,
           "6242929" => 967,
           "6243179" => 945,
           "6244117" => 875,
           "6244143" => 936,
           "6244242" => 987,
           "6244267" => 955,
           "6244433" => 905,
           "6244883" => 885,
           "6244894" => 881,
           "6245182" => 991,
           "6245286" => 899,
           "6245296" => 975,
           "6245437" => 890,
          "6246469" => 1004,
           "6246609" => 730,
           "6248706" => 891,
           "6248826" => 901,
           "6250014" => 927,
           "6250420" => 470,
           "6250718" => 877,
           "6250755" => 995,
           "6254886" => 904,
           "6257054" => 956,
          "6257455" => 1298,
          "6258104" => 1015,
          "6258821" => 1020,
           "6259407" => 965,
           "6261062" => 985,
           "6261137" => 972,
           "6261555" => 942,
           "6265106" => 938,
           "6265621" => 977,
           "6266340" => 924,
            "6267543" => 90,
           "6269039" => 946,
          "6269754" => 1184,
           "6270202" => 981,
           "6272514" => 930,
           "6273373" => 912,
           "6277076" => 964,
           "6277626" => 969,
          "6278282" => 1118,
          "6280115" => 1012,
          "6280867" => 1191,
           "6281318" => 893,
           "6282865" => 973,
           "6283511" => 970,
           "6284666" => 209,
           "6286161" => 923,
           "6286633" => 880,
           "6286721" => 908,
           "6290070" => 876,
           "6294070" => 920,
           "6295483" => 917,
          "6295497" => 1132,
           "6296070" => 960,
           "6298563" => 961,
           "6299330" => 957,
           "6300546" => 982,
           "6301314" => 976,
           "6305347" => 952,
          "6306525" => 1111,
           "6307083" => 968,
          "6307596" => 1028,
           "6307901" => 795,
           "6307976" => 210,
          "6307988" => 1000,
          "6308001" => 1005,
          "6309595" => 1002,
          "6310380" => 1068,
          "6311926" => 1174,
          "6313697" => 1076,
            "6314536" => 25,
           "6314564" => 999,
          "6315100" => 1789,
           "6315224" => 984,
          "6315856" => 1265,
          "6316313" => 1051,
          "6318197" => 1106,
          "6318506" => 1150,
          "6319286" => 1122,
          "6319989" => 1307,
          "6322203" => 1262,
          "6322508" => 1186,
          "6322850" => 2589,
          "6323160" => 2532,
          "6325722" => 2563,
          "6327983" => 1248,
          "6330690" => 1041,
          "6331411" => 1129,
          "6331791" => 1141,
          "6332432" => 1163,
          "6333483" => 1097,
          "6333992" => 1038,
          "6334591" => 1031,
          "6334764" => 1147,
          "6334899" => 1138,
          "6334951" => 1073,
          "6335130" => 1144,
          "6335165" => 1016,
          "6335284" => 1036,
          "6335295" => 1065,
          "6335315" => 1022,
          "6335326" => 1291,
          "6335437" => 1047,
          "6335455" => 1160,
          "6335469" => 1053,
          "6335482" => 1143,
          "6335507" => 1069,
          "6335548" => 1162,
          "6335549" => 1085,
          "6335553" => 1019,
          "6335562" => 1126,
          "6335607" => 1114,
          "6335625" => 1161,
          "6336275" => 1137,
          "6336283" => 1081,
          "6336305" => 1112,
          "6336316" => 1062,
          "6336799" => 1086,
          "6336851" => 1066,
          "6336862" => 1001,
          "6338047" => 1110,
          "6339109" => 1165,
          "6339115" => 1034,
          "6339210" => 1154,
          "6341079" => 1199,
          "6342825" => 1167,
          "6348096" => 1166,
          "6351519" => 1151,
          "6357678" => 1146,
          "6359388" => 1010,
          "6360042" => 1035,
          "6360090" => 1155,
          "6360119" => 1026,
          "6360127" => 1169,
          "6360187" => 1100,
          "6360207" => 1067,
          "6360291" => 1083,
          "6360299" => 1121,
          "6360510" => 1030,
          "6360799" => 1314,
          "6360812" => 1017,
          "6361535" => 1077,
          "6365402" => 1170,
           "6366865" => 211,
          "6366919" => 1152,
           "6366929" => 457,
          "6367508" => 1082,
          "6369969" => 1025,
          "6370969" => 1024,
          "6375011" => 1023,
          "6378857" => 1171,
          "6381998" => 1021,
          "6388880" => 1099,
          "6390836" => 1014,
          "6390906" => 1029,
          "6391419" => 1052,
          "6391964" => 1096,
          "6391977" => 1103,
          "6398430" => 1063,
          "6400144" => 1226,
          "6424820" => 1090,
          "6426244" => 1102,
          "6431192" => 1120,
          "6431537" => 2529,
          "6431540" => 1245,
          "6432457" => 1198,
          "6432919" => 1133,
          "6433817" => 2571,
          "6433819" => 2533,
          "6435291" => 1211,
          "6436474" => 2549,
          "6436627" => 1205,
          "6438774" => 1286,
          "6453361" => 1290,
          "6457778" => 1187,
          "6648880" => 1801,
          "6681530" => 2560,
          "6710271" => 2672,
          "6710288" => 2676,
            "6710301" => 91,
           "6710315" => 551,
          "6710549" => 2657,
          "6715329" => 2581,
          "6721316" => 1176,
          "6724871" => 2652,
          "6727979" => 2630,
          "6728048" => 2636,
          "6728055" => 1781,
          "6728568" => 2614,
          "6728632" => 2666,
          "6728838" => 2654,
          "6728846" => 2669,
          "6728879" => 2660,
          "6728926" => 2632,
          "6729037" => 2619,
          "6729191" => 1178,
          "6729346" => 1769,
          "6736351" => 2545,
          "6736412" => 2540,
          "6756395" => 1313,
          "6757970" => 1295,
          "6764097" => 2649,
          "6764106" => 2623,
          "6764114" => 1177,
          "6764132" => 2640,
          "6764167" => 2607,
          "6764168" => 2620,
          "6764176" => 2663,
          "6764195" => 2629,
          "6764224" => 2645,
          "6773375" => 1315,
          "6779649" => 1292,
          "6793988" => 1288,
          "6796044" => 1216,
          "6796255" => 1189,
          "6796867" => 1201,
          "6798314" => 1319,
          "6798671" => 1258,
          "6799912" => 1279,
          "6799965" => 1246,
          "6800171" => 1263,
          "6801273" => 1316,
          "6808359" => 1217,
          "6816159" => 1213,
          "6819419" => 1252,
          "6824430" => 1268,
          "6824774" => 1193,
          "6825337" => 1267,
          "6825359" => 1218,
          "6825365" => 1271,
          "6825381" => 1181,
          "6825385" => 1280,
          "6825390" => 1257,
          "6825515" => 1209,
          "6825674" => 1277,
          "6825760" => 1192,
          "6825801" => 1261,
          "6826009" => 1284,
          "6826346" => 1294,
          "6826376" => 1260,
          "6830946" => 1190,
          "6830995" => 1210,
          "6831017" => 1300,
          "6831064" => 1185,
          "6831791" => 1272,
          "6832673" => 1194,
          "6837655" => 2574,
          "6848816" => 1296,
          "6849480" => 1301,
          "6850064" => 1208,
          "6850177" => 1309,
          "6854843" => 1304,
          "6855988" => 1297,
          "6856755" => 2601,
          "6861717" => 1264,
          "6867118" => 1308,
          "6867565" => 1302,
            "6867594" => 92,
          "6869701" => 1223,
          "6871793" => 1775,
          "6876041" => 1202,
          "6879156" => 1237,
          "6888572" => 1287,
          "6890498" => 1270,
          "6891203" => 1224,
          "6893212" => 1243,
          "6910356" => 1238,
          "6910465" => 1768,
          "6910847" => 1207,
          "6913079" => 1244,
          "6913158" => 1305,
          "6913316" => 1311,
          "6913325" => 1329,
          "6913381" => 1278,
          "6913387" => 1183,
          "6913428" => 1215,
          "6913827" => 1779,
          "6915155" => 2579,
          "6925673" => 1798,
          "6930139" => 1782,
          "6932009" => 2646,
          "6932023" => 2662,
          "6932027" => 2625,
          "6932030" => 2639,
          "6932031" => 2642,
          "6932032" => 2658,
          "6932042" => 2665,
          "6932046" => 2606,
          "6932052" => 2641,
          "6932056" => 2637,
          "6932063" => 1320,
          "6932064" => 1774,
          "6932069" => 1778,
          "6932079" => 2570,
          "6932092" => 2648,
          "6932100" => 2667,
          "6932103" => 2627,
          "6932131" => 2644,
          "6932140" => 2624,
          "6932172" => 2651,
          "6932192" => 2633,
          "6932290" => 2638,
          "6932321" => 2609,
          "6932326" => 2610,
          "6932341" => 2671,
          "6932352" => 2631,
          "6932353" => 2674,
          "6932368" => 2647,
          "6932389" => 2634,
          "6932436" => 2655,
          "6932439" => 2608,
          "6932910" => 2635,
          "6938339" => 1786,
          "6943102" => 2577,
          "6943103" => 2559,
          "6943104" => 2554,
          "6943165" => 2552,
          "6943642" => 2531,
          "6943828" => 2526,
          "6944545" => 2521,
          "6945797" => 1794,
          "6946246" => 2525,
          "6946422" => 2535,
          "6946772" => 1323,
          "6946798" => 2524,
          "6947838" => 1334,
          "6948173" => 1335,
          "6948313" => 2553,
          "6948446" => 1790,
          "6948747" => 2527,
          "6948874" => 1788,
          "6949753" => 2522,
          "6950274" => 1321,
          "6950657" => 1328,
          "6970057" => 1797,
          "6974574" => 2578,
          "6975627" => 1322,
          "6978463" => 2520,
          "6980302" => 2536,
          "7030048" => 1800,
          "7035169" => 1333,
          "7038460" => 1338,
          "7038963" => 1785,
          "7050579" => 1325,
          "7054685" => 1326,
          "7056462" => 1332,
          "7064013" => 1773,
          "7066725" => 2564,
          "7072386" => 2575,
          "7083981" => 1327,
          "7087392" => 1777,
          "7089468" => 2592,
          "7096942" => 1795,
          "7099377" => 1330,
          "7113281" => 1783,
          "7154858" => 2550,
          "7156103" => 2670,
          "7158481" => 2612,
          "7158556" => 2562,
          "7158593" => 2594,
          "7158851" => 2622,
          "7158946" => 2650,
          "7158951" => 2664,
          "7159020" => 2661,
          "7160965" => 2523,
          "7161868" => 2621,
          "7161877" => 2643,
          "7161925" => 2675,
          "7162084" => 2605,
          "7162101" => 2616,
          "7162349" => 2551,
          "7162820" => 2628,
          "7162827" => 2615,
          "7162828" => 2673,
          "7162836" => 2668,
          "7164745" => 2583,
          "7165157" => 2530,
          "7165165" => 2617,
          "7165645" => 2582,
          "7165892" => 2611,
          "7167338" => 2580,
          "7167765" => 2656,
          "7168859" => 2595,
          "7170518" => 2556,
          "7172162" => 2626,
          "7172294" => 2653,
          "7172334" => 2618,
          "7172352" => 2659,
          "7175291" => 2584,
          "7175398" => 2561,
          "7176172" => 2557,
          "7177804" => 2566,
          "7178513" => 2558
}

    @supported_players = Hash[*@esdb_ids.collect{|k,v|
      [@mlgids[k], v]
    }.sort.flatten]

    @various_players = {
      'MarineKingPrime' => 995,
      # 'Grubby' => 212,   # removed because he's in the arena
      'MC' => 215,
      'EGIdrA' => 59
    }

    # @supported_players = {
    #   'FnaticRain' => 554,
    #   'SlayersGanzi' => 574,
    #   'FXOSheth' => 331,
    #   'Violet' => 211,
    #   'EG-PuMa' => 769,
    #   'qxc' => 21,
    #   'QxGSaSe' => 1001,
    #   'Liquid_HerO' => 758,
    #   'FXOz' => 524,
    #   'vileIllusion' => 777,
    #   'FXOLeenock' => 1010,
    #   'Grubby' => 212,
    #   'Stephano' => 209,
    #   'SlayersAlicia' => 551,
    #   'FnaticaLive' => 1295,  # 1000 = TSLAlive (last used 2011-10-16)
    #   'IMLosira' => 355,
    #   'GoldenLighT94' => 1308,
    #   'cvgSasquatch' => 1082,
    #   'Dream' => 1320,
    #   'Ryung' => 91,
    #   'Top' => 1337,
    # }

    # Just specify race as vs_race param for now
    @races = {'p' => 'Protoss', 'z' => 'Zerg', 't' => 'Terran'}

    if params[:player1].present?
      if @races.include?(params[:player1].downcase)
        params[:race] = params.delete(:player1)
      else
        @player1 = ESDB::Identity.new(:id => params[:player1])
        @player1.get!
      end
    end

    if params[:player2].present?
      if @races.include?(params[:player2].downcase)
        params[:vs_race] = params.delete(:player2)
      else
        @player2 = ESDB::Identity.new(:id => params[:player2])
        @player2.get!
      end
    end

    if @player1 || params[:race]
      extra_conds = []

      # Quick note about versus identities: it only works on battle.net
      # identities right now. Good that we're only using the race for now.
      extra_conds << ">#{@player2.id}" if @player2

      if params[:vs_race].present?
        @vs_race = params[:vs_race].downcase
        extra_conds << ">#{@vs_race}" 
      end

      if params[:race].present?
        @race = params[:race].downcase
        extra_conds << "<#{@race}" if !@player1
      end

      if params[:after_date].present?
        extra_conds << ">D#{params[:after_date]}"
      end

      if params[:before_date].present?
        extra_conds << "<D#{params[:before_date]}"
      end

      if params[:bottom_times].present?
        @bottom_times = params[:bottom_times].split(",")
      else
        @bottom_times = [10, 17, 25]
      end

      top_times = [5, 10, 15, 20, 25, 30]

      top_conds = ([0] + top_times).collect { |min| [">#{min}m"] + extra_conds }
      bottom_conds = @bottom_times.collect { |min| ["#{min}m"] + extra_conds }
      avg_army_conds = top_times.collect { |min| ["#{min}m"] + extra_conds }

      # DJ: we cant have this in until we can explain it properly to MLG and others.
      #
      #  :apm => {
      #    :avg => [true, extra_conds],
      #  },

      statshash = {
        :apm => {
          :cgz => [extra_conds],
        },
        :win => {
          :pct => top_conds,
          :count => top_conds,
        },
        :loss => {
          :count => top_conds,
        },
        :army => {
          :avg => avg_army_conds + bottom_conds.collect{|c| c + ['!0']}, # just hacking "not zero" in here quickly for now
          :pct => bottom_conds.collect{|c| c + ['!0']},
        }
      }

      if @player1
        @query = ESDB::Identity.new(:id => params[:player1], :stats => statshash)
      elsif params[:race]
        @query = ESDB::Stat.new(:stats => statshash)
      end

      @query.get!
      @query = @query.to_hash

      @stats = @query['stats']
      @race = @query['fav_race'] if @player1

      @num_games = @stats['apm']['cgz']
      @num_games = @num_games.values[0] if @num_games.kind_of?(Hash)
      @num_games = @num_games.to_i

      @condition_suffix = ""
      @condition_suffix = @condition_suffix + "_vs_race_#{@vs_race}" if @vs_race
      @condition_suffix = @condition_suffix + "_vs_identity_#{@player2.id}" if @player2
      @condition_suffix = @condition_suffix + "_race_#{@race}" if @race && !@player1
      @condition_suffix = @condition_suffix + "_after_date_#{params[:after_date]}" if params[:after_date].present?
      @condition_suffix = @condition_suffix + "_before_date_#{params[:before_date]}" if params[:before_date].present?

Rails.logger.info @condition_suffix

      Rails.logger.info @stats.inspect

      @unit_names = @@UNIT_NAMES
      @dont_show = @@DONT_SHOW

      if false
        @replays = ESDB::Replay.new(:query => (["<#{params[:player1]}"] + extra_conds).join(","))
        @replays.get!
        @replays = @replays.to_hash
      end

      respond_to do |format|
        format.html
        format.json { 
          outparams = params.except(:controller, :action, :format)
          render json: {"query" => outparams, "result" => @stats}
        }
      end

    end
  end
end
